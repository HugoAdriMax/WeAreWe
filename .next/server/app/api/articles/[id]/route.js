(()=>{var e={};e.id=259,e.ids=[259],e.modules={56037:e=>{"use strict";e.exports=require("mongoose")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},81381:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>w,routeModule:()=>m,serverHooks:()=>g,workAsyncStorage:()=>v,workUnitAsyncStorage:()=>x});var n={};r.r(n),r.d(n,{DELETE:()=>l,GET:()=>d,PUT:()=>c});var s=r(42706),i=r(28203),o=r(45994),a=r(39187),u=r(12365),p=r(78284);async function d(e,{params:t}){await (0,u.A)();let r=await p.n.findById(t.id);return r?a.NextResponse.json(r):a.NextResponse.json({error:"Article non trouv\xe9"},{status:404})}async function c(e,{params:t}){let{title:r,metaDescription:n,imageUrl:s,content:i}=await e.json();await (0,u.A)();let o=await p.n.findByIdAndUpdate(t.id,{title:r,metaDescription:n,imageUrl:s,content:i},{new:!0});return o?a.NextResponse.json(o):a.NextResponse.json({error:"Article non trouv\xe9"},{status:404})}async function l(e,{params:t}){return await (0,u.A)(),await p.n.findByIdAndDelete(t.id)?new a.NextResponse(null,{status:204}):a.NextResponse.json({error:"Article non trouv\xe9"},{status:404})}let m=new s.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/articles/[id]/route",pathname:"/api/articles/[id]",filename:"route",bundlePath:"app/api/articles/[id]/route"},resolvedPagePath:"/Users/pascallevy/Documents/WeAreWe/app/api/articles/[id]/route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:v,workUnitAsyncStorage:x,serverHooks:g}=m;function w(){return(0,o.patchFetch)({workAsyncStorage:v,workUnitAsyncStorage:x})}},96487:()=>{},78335:()=>{},12365:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(56037),s=r.n(n);if(!process.env.MONGODB_URI)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let i=process.env.MONGODB_URI,o=global,a=o.mongoose;a||(a=o.mongoose={conn:null,promise:null});let u=async function(){if(a.conn)return a.conn;a.promise||(a.promise=s().connect(i,{bufferCommands:!1,dbName:"sample_mflix"}).then(e=>e));try{a.conn=await a.promise}catch(e){throw a.promise=null,e}return a.conn}},78284:(e,t,r)=>{"use strict";r.d(t,{n:()=>o});var n=r(56037),s=r.n(n);let i=new n.Schema({title:{type:String,required:!0},slug:{type:String,required:!0,unique:!0},metaDescription:{type:String,required:!0},imageUrl:{type:String,required:!0},content:{type:String,required:!0},date:{type:Date,default:Date.now},author:{type:String,default:"WeAreWe Team"}}),o=s().models.Article||s().model("Article",i,"articles")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[370,452],()=>r(81381));module.exports=n})();